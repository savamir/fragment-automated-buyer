# Fragment Buyer API

–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –ø–æ–∫—É–ø–∫–∏ –Ω–æ–º–µ—Ä–æ–≤ –∏ username'–æ–≤ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ [Fragment](https://fragment.com).

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–æ–º–µ—Ä–æ–≤**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –∏ –ø–æ–∫—É–ø–∫–∞ –Ω–æ–º–µ—Ä–æ–≤ –≤ –∑–∞–¥–∞–Ω–Ω–æ–º —Ü–µ–Ω–æ–≤–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ username'–æ–≤**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –∏ –ø–æ–∫—É–ø–∫–∞ username'–æ–≤ –≤ –∑–∞–¥–∞–Ω–Ω–æ–º —Ü–µ–Ω–æ–≤–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ—Å—Ç–∏ —Å—Ä–µ–¥—Å—Ç–≤ –ø–µ—Ä–µ–¥ –ø–æ–∫—É–ø–∫–æ–π
- **–£–º–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–µ —Å—Ä–µ–¥—Å—Ç–≤
- **REST API**: –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–µ API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º–æ–π

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.8+
- TON –∫–æ—à–µ–ª–µ–∫ —Å –±–∞–ª–∞–Ω—Å–æ–º
- Fragment –∞–∫–∫–∞—É–Ω—Ç —Å cookies

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```bash
git clone <repository-url>
cd buynumbers
```

2. –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:
```bash
python -m venv .venv
source .venv/bin/activate  # Linux/Mac
# –∏–ª–∏
.venv\Scripts\activate  # Windows
```

3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
pip install -r requirements.txt
```

4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```bash
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞
cp env.example .env

# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª —Å –≤–∞—à–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏
nano .env
```

–í —Ñ–∞–π–ª–µ `.env` —É–∫–∞–∂–∏—Ç–µ:
- `SEED_PHRASE` - –≤–∞—à–∞ seed —Ñ—Ä–∞–∑–∞ TON –∫–æ—à–µ–ª—å–∫–∞ (24 —Å–ª–æ–≤–∞)
- `FRAGMENT_COOKIES` - cookies –æ—Ç –≤–∞—à–µ–≥–æ Fragment –∞–∫–∫–∞—É–Ω—Ç–∞

## üöÄ –ó–∞–ø—É—Å–∫

```bash
python api.py
```

–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ `http://127.0.0.1:8000`

## üìö API Endpoints

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–æ–º–µ—Ä–æ–≤

#### –ó–∞–ø—É—Å–∫ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
```bash
POST /monitor-numbers/start
{
    "max_price_ton": 1000,
    "interval_sec": 1
}
```

#### –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
```bash
POST /monitor-numbers/stop
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ username'–æ–≤

#### –ó–∞–ø—É—Å–∫ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
```bash
POST /monitor-usernames/start
{
    "max_price_ton": 500,
    "interval_sec": 1
}
```

#### –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
```bash
POST /monitor-usernames/stop
```

### –ü–æ–∫—É–ø–∫–∞

#### –ü–æ–∫—É–ø–∫–∞ –Ω–æ–º–µ—Ä–∞
```bash
POST /buy
{
    "number_id": "123456789",
    "bid_ton": 100
}
```

#### –ü–æ–∫—É–ø–∫–∞ username
```bash
POST /buy-username
{
    "username_id": "example",
    "bid_ton": 50
}
```

### –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

#### –°–ø–∏—Å–æ–∫ –Ω–æ–º–µ—Ä–æ–≤
```bash
GET /numbers
```

#### –°–ø–∏—Å–æ–∫ username'–æ–≤
```bash
GET /usernames
```

#### –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ—à–µ–ª—å–∫–µ
```bash
GET /wallet
```

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è
```bash
GET /health
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

#### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ:
- `SEED_PHRASE` - Seed —Ñ—Ä–∞–∑–∞ TON –∫–æ—à–µ–ª—å–∫–∞ (24 —Å–ª–æ–≤–∞)
- `FRAGMENT_COOKIES` - Cookies –æ—Ç Fragment –∞–∫–∫–∞—É–Ω—Ç–∞

#### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ:
- `TON_LITE_SERVER` - TON Lite Server URL (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: mainnet_config)
- `HOST` - –•–æ—Å—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 127.0.0.1)
- `PORT` - –ü–æ—Ä—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 8000)
- `LOG_LEVEL` - –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: INFO)

#### –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å Fragment cookies:
1. –í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç –Ω–∞ [fragment.com](https://fragment.com)
2. –û—Ç–∫—Ä–æ–π—Ç–µ Developer Tools (F12)
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤–æ –≤–∫–ª–∞–¥–∫—É Application/Storage ‚Üí Cookies
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è cookies: `stel_dt`, `stel_ssid`, `stel_token`, `stel_ton_token`
5. –û–±—ä–µ–¥–∏–Ω–∏—Ç–µ –∏—Ö –≤ —Å—Ç—Ä–æ–∫—É: `stel_dt=value; stel_ssid=value; stel_token=value; stel_ton_token=value`
6. –ü–æ–º–µ—Å—Ç–∏—Ç–µ –≤—Å—é —Å—Ç—Ä–æ–∫—É –≤ –∫–∞–≤—ã—á–∫–∏ –≤ —Ñ–∞–π–ª–µ `.env`

**–ü—Ä–∏–º–µ—Ä:**
```
FRAGMENT_COOKIES="stel_dt=-180; stel_ssid=your_session_id; stel_token=your_token; stel_ton_token=your_ton_token"
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

- `max_price_ton` - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ –≤ TON
- `interval_sec` - –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö (1-60)

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞ –ø–µ—Ä–µ–¥ –∫–∞–∂–¥–æ–π –ø–æ–∫—É–ø–∫–æ–π
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–∫—É–ø–æ–∫
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–µ —Å—Ä–µ–¥—Å—Ç–≤
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### ‚ö†Ô∏è –í–∞–∂–Ω–æ:
- **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ —Ñ–∞–π–ª `.env` –≤ git!**
- –§–∞–π–ª `.env` —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω –≤ `.gitignore`
- –•—Ä–∞–Ω–∏—Ç–µ –≤–∞—à–∏ seed —Ñ—Ä–∞–∑—ã –∏ cookies –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ
- –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ Fragment cookies

## üìä –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –≤–µ–¥–µ—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π:
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–∞—Ö
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∫—É–ø–æ–∫
- –û—à–∏–±–∫–∏ –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
- –°–æ—Å—Ç–æ—è–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞

## üö® –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

- `400` - –ù–µ–≤–µ—Ä–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞
- `402` - –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤
- `409` - –ü–æ–∫—É–ø–∫–∞ —É–∂–µ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ
- `500` - –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –æ—à–∏–±–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞
- `504` - –¢–∞–π–º–∞—É—Ç –æ–ø–µ—Ä–∞—Ü–∏–π

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
buynumbers/
‚îú‚îÄ‚îÄ api.py                 # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ requirements.txt       # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ README.md             # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ env.example           # –ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ .env                  # –í–∞—à–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (—Å–æ–∑–¥–∞—Ç—å)
‚îî‚îÄ‚îÄ app/
    ‚îú‚îÄ‚îÄ main.py           # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ API
    ‚îú‚îÄ‚îÄ clients/
    ‚îÇ   ‚îú‚îÄ‚îÄ fragment.py           # –ö–ª–∏–µ–Ω—Ç –¥–ª—è –Ω–æ–º–µ—Ä–æ–≤
    ‚îÇ   ‚îî‚îÄ‚îÄ fragment_usernames.py # –ö–ª–∏–µ–Ω—Ç –¥–ª—è username'–æ–≤
    ‚îú‚îÄ‚îÄ services/
    ‚îÇ   ‚îî‚îÄ‚îÄ monitor.py    # –°–µ—Ä–≤–∏—Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
    ‚îî‚îÄ‚îÄ utils/
        ‚îî‚îÄ‚îÄ ton.py        # –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å TON
```

## üë®‚Äçüíª –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏

- **[–•—É—Å–Ω–∏–¥–¥–∏–Ω (hoosnick)](https://github.com/hoosnick)** - Python Developer, —Ä–∞–±–æ—Ç–∞—é—â–∏–π —Å –≤–µ–±-API –∏ –±—ç–∫–µ–Ω–¥-–ª–æ–≥–∏–∫–æ–π
- **[Emir ~ Lycode (savamir)](https://github.com/savamir)** - Python Developer, —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—â–∏–π—Å—è –Ω–∞ Django, FastAPI –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

1. –§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É –¥–ª—è –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
3. –í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
4. –°–æ–∑–¥–∞–π—Ç–µ Pull Request

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

## ‚ö†Ô∏è –û—Ç–∫–∞–∑ –æ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª–µ–π. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞ —Å–≤–æ–π —Å—Ç—Ä–∞—Ö –∏ —Ä–∏—Å–∫. –ê–≤—Ç–æ—Ä—ã –Ω–µ –Ω–µ—Å—É—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ –ª—é–±—ã–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –ø–æ—Ç–µ—Ä–∏.
